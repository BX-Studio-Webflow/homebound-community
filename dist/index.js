"use strict";(()=>{var d=Object.defineProperty;var h=(s,t,e)=>t in s?d(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>h(s,typeof t!="symbol"?t+"":t,e);var r=class{constructor(){n(this,"links",[]);n(this,"observer",null);n(this,"visibleSections",new Set);n(this,"sectionMap",{overview:"overview-section","floor-plans":"floor-plans-section",amentities:"amentities-section",personalisation:"personalization-section","browse-homes":"lots-section",process:"process-section"});n(this,"sectionOrder",["overview","floor-plans","amentities","personalisation","browse-homes"])}init(){if(this.links=Array.from(document.querySelectorAll(".tab-links[dev-target]")),!this.links.length){console.error("StickyNavController: No tab links found.");return}this.setupClickHandlers(),this.setupScrollObserver(),requestAnimationFrame(()=>{let t=this.links.find(e=>e.classList.contains("is-active"))??this.links[0];t&&(t.classList.add("is-active"),this.scrollLinkIntoStrip(t))})}setupClickHandlers(){this.links.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let i=t.getAttribute("dev-target");if(!i)return;let o=this.sectionMap[i];if(!o)return;let l=document.getElementById(o);if(!l){console.error(`StickyNavController: Section #${o} not found.`);return}let c=t.closest(".tab-header"),a=c?c.offsetHeight:0,v=l.getBoundingClientRect().top+window.scrollY-a;window.scrollTo({top:v,behavior:"smooth"}),this.setActiveLink(i)})})}setupScrollObserver(){this.observer=new IntersectionObserver(t=>{t.forEach(i=>{let o=this.getDevTargetBySectionId(i.target.id);o&&(i.isIntersecting?this.visibleSections.add(o):this.visibleSections.delete(o))});let e=this.sectionOrder.find(i=>this.visibleSections.has(i));e&&this.setActiveLink(e)},{rootMargin:"-10% 0px -85% 0px",threshold:0}),this.sectionOrder.forEach(t=>{let e=this.sectionMap[t];if(!e)return;let i=document.getElementById(e);i?this.observer.observe(i):console.error(`StickyNavController: Section #${e} not found in DOM.`)})}setActiveLink(t){this.links.forEach(e=>{let i=e.getAttribute("dev-target")===t;e.classList.toggle("is-active",i),i&&this.scrollLinkIntoStrip(e)})}scrollLinkIntoStrip(t){if(window.innerWidth>767)return;let e=t.closest('[dev-target="tab-left"]');if(!e)return;let i=t.offsetLeft-e.offsetWidth/2+t.offsetWidth/2;e.scrollTo({left:i,behavior:"smooth"})}getDevTargetBySectionId(t){return this.sectionOrder.find(e=>this.sectionMap[e]===t)??null}destroy(){this.observer?.disconnect(),this.observer=null,this.visibleSections.clear()}};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{new r().init()});})();
